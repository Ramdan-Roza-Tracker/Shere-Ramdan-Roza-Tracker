<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shere Ramadan ul Moazam</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500;600;700&family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="backdrop"></div>
  <main class="app-shell" aria-label="Shere Ramadan ul Moazam Roza Tracker">
    <section id="authCard" class="auth-card" aria-label="Authentication">
      <p class="eyebrow">Bismillah</p>
      <h2>Welcome to Your Ramadan Tracker</h2>
      <p class="subtitle auth-subtitle">Sign up once, then log in securely to save your Roza history.</p>
      <div class="auth-tabs" role="tablist" aria-label="Authentication mode">
        <button id="loginTabBtn" type="button" class="auth-tab active" role="tab" aria-selected="true">Log In</button>
        <button id="signupTabBtn" type="button" class="auth-tab" role="tab" aria-selected="false">Sign Up</button>
      </div>
      <form id="authForm" class="auth-form" novalidate>
        <label class="input-group">
          <span>Email</span>
          <input id="authEmail" type="email" inputmode="email" autocomplete="email" placeholder="name@example.com" required />
        </label>
        <label class="input-group">
          <span>Password</span>
          <div class="input-with-action">
            <input id="authPassword" type="password" autocomplete="current-password" placeholder="Enter your password" required />
            <button class="password-toggle" type="button" data-password-toggle="authPassword" aria-label="Show password">
              <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M12 5C6.5 5 2.1 8.4 1 12c1.1 3.6 5.5 7 11 7s9.9-3.4 11-7c-1.1-3.6-5.5-7-11-7Zm0 11a4 4 0 1 1 0-8 4 4 0 0 1 0 8Z" />
              </svg>
            </button>
          </div>
        </label>
        <label id="confirmPasswordGroup" class="input-group hidden">
          <span>Confirm Password</span>
          <div class="input-with-action">
            <input id="authConfirmPassword" type="password" autocomplete="new-password" placeholder="Confirm password" />
            <button class="password-toggle" type="button" data-password-toggle="authConfirmPassword" aria-label="Show password">
              <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M12 5C6.5 5 2.1 8.4 1 12c1.1 3.6 5.5 7 11 7s9.9-3.4 11-7c-1.1-3.6-5.5-7-11-7Zm0 11a4 4 0 1 1 0-8 4 4 0 0 1 0 8Z" />
              </svg>
            </button>
          </div>
        </label>
        <label class="remember-row">
          <input id="rememberMeInput" type="checkbox" />
          <span>Remember Me</span>
        </label>
        <p id="authError" class="auth-error" role="alert" aria-live="assertive"></p>
        <button id="authSubmitBtn" class="auth-submit" type="submit">Log In</button>
      </form>
    </section>

    <div id="trackerContent" hidden>
      <header class="hero-card">
        <div class="hero-pattern" aria-hidden="true"></div>
        <div class="hero-top-row">
          <div>
            <p class="eyebrow">Ramadan History Tracker</p>
            <h1>Shere Ramadan ul Moazam</h1>
          </div>
          <button id="logoutBtn" class="logout-btn" type="button">Log Out</button>
        </div>
        <p class="subtitle">Track and revisit your Roza progress year by year in Hijri calendar.</p>
        <p id="authStatusText" class="auth-status"></p>
        <div class="hero-progress">
          <span id="completedCount">0</span>
          <small>of 30 Rozas completed</small>
        </div>
      </header>

      <section id="yearSwitcher" class="year-switcher-card" aria-label="Hijri Year Selector">
        <button id="prevYearBtn" type="button" class="year-nav" aria-label="Previous Hijri year">&#8592;</button>
        <div class="year-display">
          <p class="year-label">Hijri Ramadan Year</p>
          <h2 id="selectedYearText">1447 AH</h2>
          <span id="yearBadge" class="year-badge">Current Year</span>
        </div>
        <button id="nextYearBtn" type="button" class="year-nav" aria-label="Next Hijri year">&#8594;</button>
      </section>

      <section class="timeline-card" aria-label="Crescent Progress Timeline">
        <div class="section-title-row">
          <h2>Crescent Progress Timeline</h2>
          <span id="percentBadge">0%</span>
        </div>
        <div class="crescent-line-scroll">
          <div class="crescent-line-inner">
            <div class="progress-rail" aria-hidden="true"></div>
            <div id="timelineFill" class="progress-fill" aria-hidden="true"></div>
            <div id="crescentTimeline" class="crescent-timeline" role="list"></div>
          </div>
        </div>
      </section>

      <section class="stats-grid" aria-label="Completion Analytics">
        <article class="stat-card">
          <p>Total Completed</p>
          <h3 id="statCompleted">0</h3>
        </article>
        <article class="stat-card">
          <p>Current Streak</p>
          <h3 id="statStreak">0</h3>
        </article>
        <article class="stat-card">
          <p>Completion %</p>
          <h3 id="statPercent">0%</h3>
        </article>
      </section>

      <section class="calendar-card">
        <div class="section-title-row">
          <h2 id="calendarTitle">Ramadan Tracker</h2>
          <p class="gesture-tip">Swipe right: Completed • Swipe left: Pending • Long press: Qaza</p>
        </div>
        <div id="calendarGrid" class="calendar-grid" role="list"></div>
      </section>
    </div>

    <footer class="app-footer" aria-label="Footer">
      <p><span class="footer-mark" aria-hidden="true">&copy;</span> Abdulqadir Co. All rights reserved</p>
    </footer>
  </main>
  <div id="loginTransition" class="login-transition" hidden aria-hidden="true">
    <div class="transition-scene">
      <div class="transition-lantern"></div>
      <div class="transition-lantern-glow"></div>
      <p>Bismillah</p>
    </div>
  </div>

  <template id="dayTemplate">
    <button class="day-card" type="button" role="listitem">
      <span class="day-label"></span>
      <span class="day-status"></span>
      <span class="check-indicator" aria-hidden="true"></span>
    </button>
  </template>

  <script src="app.js"></script>
</body>
</html>

